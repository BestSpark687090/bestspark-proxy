function isValidUrl(t){const a=new RegExp("^([a-zA-Z]+:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");let n=!1;try{new URL((t.includes("http")?"":"http://")+t),n=!0}catch(t){}return null!==t.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g)&&n&&function(t){if("string"!=typeof t||!t.trim())return!1;if(/\s/.test(t))return!1;try{const a=new URL(t.match(/^https?:\/\//i)?t:`https://${t}`);return/^[a-z0-9.-]+\.[a-z]{2,}$/i.test(a.hostname)}catch{return!1}}(t)&&a.test(t)&&URL.canParse((t.includes("http")?"":"http://")+t)}
let uv = {encode(e){if(!e)return e;let t="";for(let r=0;r<e.length;r++)t+=r%2?String.fromCharCode(e.charCodeAt(r)^2):e[r];return encodeURIComponent(t)},decode(e){if(!e)return e;let[t,...r]=e.split("?"),n="",u=decodeURIComponent(t);for(let a=0;a<u.length;a++)n+=a%2?String.fromCharCode(u.charCodeAt(a)^2):u[a];return n+(r.length?"?"+r.join("?"):"")}}
function search(t,n){try{return new URL(t).toString()}catch(t){}try{const n=new URL(`http://${t}`);if(n.hostname.includes("."))return n.toString()}catch(t){}return n.replace("%s",encodeURIComponent(t))}
module.exports = uv